(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8799:function(e,t,s){Promise.resolve().then(s.bind(s,3900))},5775:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let l=s(7043);s(7437),s(2265);let n=l._(s(5602));function a(e,t){var s;let l={loading:e=>{let{error:t,isLoading:s,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,n.default)({...a,modules:null==(s=a.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=s(8993);function n(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return s}},5602:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let l=s(7437),n=s(2265),a=s(1523),r=s(49);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(e){let t={...d,...e},s=(0,n.lazy)(()=>t.loader().then(i)),o=t.loading;function c(e){let i=o?(0,l.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(r.PreloadCss,{moduleIds:t.modules}):null,(0,l.jsx)(s,{...e})]}):(0,l.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(s,{...e})});return(0,l.jsx)(n.Suspense,{fallback:i,children:d})}return c.displayName="LoadableComponent",c}},49:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let l=s(7437),n=s(544);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=(0,n.getExpectedRequestStore)("next/dynamic css"),a=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,l.jsx)(l.Fragment,{children:a.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},3900:function(e,t,s){"use strict";s.d(t,{default:function(){return p}});var l=s(7437);s(5046);var n=s(2265),a=s(5775),r=s.n(a),i=e=>{let{locations:t}=e,[s,a]=(0,n.useState)("id"),r=[...t];switch(s){case"id":r.sort((e,t)=>t.id-e.id);break;case"name":r.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()));break;case"lastUpdated":r.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"px-4 pb-4",children:[(0,l.jsx)("label",{htmlFor:"sortOrder",children:"Order results by: "}),(0,l.jsxs)("select",{id:"sortOrder",value:s,onChange:e=>a(e.target.value),className:"bg-gray-800 p-2 rounded text-sm",children:[(0,l.jsx)("option",{value:"id",children:"Date added"}),(0,l.jsx)("option",{value:"name",children:"Name (A-Z)"}),(0,l.jsx)("option",{value:"lastUpdated",children:"Last updated"})]})]}),0===r.length&&(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("p",{className:"font-bold",children:"No results found"}),(0,l.jsx)("p",{children:"Please check your filters and try again."})]}),r.map(e=>(0,l.jsxs)("div",{className:"px-4 pb-4 border-b-2",children:[(0,l.jsx)("strong",{children:e.name}),(0,l.jsxs)("div",{className:"text-xs text-gray-300",children:["Listing updated at ",new Date(e.updatedAt).toDateString()]}),"Operational"!==e.status&&(0,l.jsxs)("div",{className:"bg-red-800",children:[(0,l.jsx)("b",{children:"Status: "})," ",e.status]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Address:"})," ",e.address]}),(0,l.jsx)("p",{children:e.description}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Options:"})," ",e.options.join(", ")||"N/A"]}),(0,l.jsx)("ul",{children:e.links.map(t=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:t.url,target:"_blank",children:t.label})},"".concat(e.id,"-").concat(t.label)))})]},"location-".concat(e.id)))]})},d=e=>{let{children:t,heading:s}=e;return(0,l.jsxs)("details",{className:"py-2 cursor-pointer border-b-2 border-b-gray-500",open:!0,children:[(0,l.jsx)("summary",{className:"font-bold text capitalize",children:s}),t]})},o=e=>{let{onSubmit:t}=e,[s,a]=(0,n.useState)("");return(0,l.jsxs)("form",{className:"pb-4 flex",onSubmit:e=>{e.preventDefault(),t(s)},children:[(0,l.jsx)("input",{type:"text",className:"flex-1 rounded-tl rounded-bl bg-gray-800 p-2 text-sm max-w-3xl",placeholder:"Search by name, address or description",value:s,onChange:e=>{a(e.target.value)}}),(0,l.jsx)("input",{type:"reset",value:"X",alt:"Clear search",className:"flex-none rounded-tr rounded-br bg-gray-800 py-2 px-3 font-semibold text-sm",onClick:()=>{a(""),t("")}}),(0,l.jsx)("button",{type:"submit",className:"flex-none rounded bg-gray-800 hover:bg-gray-600 p-2 font-semibold text-sm ml-2",children:"Search"})]})},c=()=>(0,l.jsx)("div",{className:"leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom",style:{position:"relative"},children:(0,l.jsx)("div",{className:"leaflet-top leaflet-left",children:(0,l.jsxs)("div",{className:"leaflet-control-zoom leaflet-bar leaflet-control",children:[(0,l.jsx)("a",{className:"leaflet-control-zoom-in",href:"#",title:"Zoom in",role:"button","aria-label":"Zoom in","aria-disabled":"true",children:(0,l.jsx)("span",{"aria-hidden":"true",children:"+"})}),(0,l.jsx)("a",{className:"leaflet-control-zoom-out",href:"#",title:"Zoom out",role:"button","aria-label":"Zoom out","aria-disabled":"true",children:(0,l.jsx)("span",{"aria-hidden":"true",children:"âˆ’"})})]})})});let u=r()(()=>Promise.all([s.e(255),s.e(212),s.e(753),s.e(227)]).then(s.bind(s,5227)),{loadableGenerated:{webpack:()=>[5227]},loading:()=>(0,l.jsx)(c,{}),ssr:!1}),h=["Operational","Temporarily closed","Permanently closed"];function p(e){let{restaurants:t,options:s}=e,[a,r]=(0,n.useState)([h[0]]),[c,p]=(0,n.useState)(!0),[x,f]=(0,n.useState)([]),[m,b]=(0,n.useState)("map"),[j,g]=(0,n.useState)(!0),[y,v]=(0,n.useState)(!0),[N,w]=(0,n.useState)(""),C=e=>{x.includes(e)?f([...x.filter(t=>t!==e)]):f([...x,e])},k=e=>{a.includes(e)?r([...a.filter(t=>t!==e)]):r([...a,e])},S=t.filter(e=>(j&&e.visited||y&&!e.visited)&&x.every(t=>e.options.includes(t))&&a.includes(e.status)&&(e.name.toLowerCase().includes(N)||e.address.toLowerCase().includes(N)||e.description.toLowerCase().includes(N))),_="rounded bg-gray-800 hover:bg-gray-600 p-2 font-semibold text-sm",O="rounded bg-blue-500 p-2 font-semibold text-sm";return(0,l.jsxs)("div",{className:"grid sm:grid-cols-[210px_1fr] sm:grid-rows-1 grid-rows-[min-content_80vh]",children:[(0,l.jsxs)("aside",{className:"max-h-full px-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"map"===m?O:_,disabled:"map"===m,onClick:()=>b("map"),children:"Show Map"}),(0,l.jsx)("button",{className:"list"===m?O:_,disabled:"list"===m,onClick:()=>b("list"),children:"Show List"})]}),(0,l.jsx)("div",{className:"pb-4",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:c,onChange:()=>p(!c)})," ","Show filters"]})}),c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[S.length," ",1===S.length?"result":"results"]})}),(0,l.jsxs)(d,{heading:"Visited status",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:j,onChange:()=>g(!j)})," ","Show visited"]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:y,onChange:()=>v(!y)})," ","Show unvisited"]})})]},"group-visited"),(0,l.jsx)(d,{heading:"Restaurant status",children:h.map(e=>(0,l.jsx)("div",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:a.includes(e),onChange:()=>k(e)})," ",e]})},"status-".concat(e)))},"group-statuses"),Object.entries(s).map(e=>{let[t,s]=e;return(0,l.jsx)(d,{heading:"".concat(t," options"),children:s.map(e=>(0,l.jsx)("div",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:x.includes(e),onChange:()=>C(e)})," ",e]})},"option-".concat(e)))},"group-".concat(t))})]})]}),(0,l.jsxs)("main",{className:"main-content ",children:[(0,l.jsx)(o,{onSubmit:e=>w(e.toLowerCase())}),"map"===m&&(0,l.jsx)(u,{locations:S}),"list"===m&&(0,l.jsx)(i,{locations:S})]})]})}},5046:function(){}},function(e){e.O(0,[641,971,117,744],function(){return e(e.s=8799)}),_N_E=e.O()}]);